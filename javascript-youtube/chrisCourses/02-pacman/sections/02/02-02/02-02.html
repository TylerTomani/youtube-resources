
<div class="steps-container">
    <h3>02-02 - Move Player</h3>    
    <h4 id="titleJsScript">02/02-02/02-02-js.html</h4>
    <div id="jsCanvasScriptContainer">
        <canvas id="canvas" class="" tabindex="0"></canvas>
        <div id="scriptsContainer" class="">
            <div id="xExitContainer" class="">
                <button tabindex="0" id="xBtn">x</button>
            </div>
            <div id="" class="code-container ">
                <pre tabindex="0" class="copy-code main-code" id="mainCode">
                </pre>
            </div>
    
        </div>
    </div>
    <!-- 01 -->
    <div class="step-col ">
        <div class="step">
            <div tabindex="0" class="step-txt">
                <h4>01</h4>
                <p>
                    Creat a <code class="b-fix">const keys</code>, then keyup and keydown
                </p>
                <div class="code-container">
                    <pre tabindex="0" class="copy-code main-code">
const <span class="b-fix">keys</span> = {
    up:{
        pressed: false
    },
    right:{
        pressed: false
    },
    down: {
        pressed: false
    }
    ,
    left:{
        pressed: false
    }
}
        </pre>
                </div>
                
            </div>
            <div class="step-img">
                <img src="sections/02/02-02/images/01.png">
            </div>
        </div>
        <div class="step-col">
            <div class="step-txt-in">
                Place the <span class="y-fix">lastKey</span> variable to the last key up in the 'keyup'
                event listener. AND add <code class="r-fix">e.preventDefault()</code> in the 'keydown'
                event
            </div>
            <div class="step">
                <div class="step-txt-in">
                    <div class="code-container"><pre tabindex="0" class="copy-code main-code">
addEventListener('keydown', e => {
let key = e.keyCode
switch (key){
    case 38:
        <span class="r-fix">e.preventDefault()</span>
        keys.up.pressed = true
        break
    case 39:
        <span class="r-fix">e.preventDefault()</span>
        keys.right.pressed = true
        break
    case 40:
        <span class="r-fix">e.preventDefault()</span>
        keys.down.pressed = true
        break
    case 37:
        <span class="r-fix">e.preventDefault()</span>
        keys.left.pressed = true
        break
}    
});
    </pre>
                </div>
                    
    
                </div>
                <div class="step-txt-in">
                    <div class="code-container"><pre tabindex="0" class="copy-code main-code">
addEventListener('keyup', e => {
    let key = e.keyCode
    switch (key){
        case 38:
            keys.up.pressed = false
            <span class="y-fix">lastKey</span> = 'up'
            break
        case 39:
            keys.right.pressed = false
            <span class="y-fix">lastKey</span> = 'right'
            break
        case 40:
            keys.down.pressed = false
            <span class="y-fix">lastKey</span> = 'down'
            break
        case 37:
            keys.left.pressed = false
            <span class="y-fix">lastKey</span> = 'left'
            break
    }    
});
</pre></div>
                </div>
            </div>
        </div>
    </div>
    <!-- 02 -->
    <div class="step">
        <div tabindex="0" class="step-txt">
            <h4>02</h4>
            <p>
                Create an <code class="o">update()</code> method inside the <code class="lsg-fix">Pacman</code>
                class to add the <span class="m-fix">velocity</span> to the position
            </p>
            <div class="code-container">
                <pre tabindex="0" class="copy-code">
class Pacman {
constructor({ position, velocity }) {
    this.position = position
    this.velocity = velocity
    this.radius = 15
}
draw() {
    c.beginPath()
    c.fillStyle = 'yellow'
    c.arc(this.position.x, this.position.y, this.radius, 0, Math.PI * 2)
    c.fill()
    c.closePath()
}
update(){
    this.position.x += this.<span class="m-fix">velocity</span>.x
    this.position.y += this.<span class="m-fix">velocity</span>.y
    this.draw()
}
}
                </pre></div>        
        </div>
        <div class="step-img">
            <img src="sections/02/02-02/images/02.png">

        </div>
    </div>
    <!-- 03 -->
    <div class="step">
        <div tabindex="0" class="step-txt">
            <h4>03</h4>
            <p>
                    Adjust the velocity of the player inside of an <code class="b-fix">animate()</code>
                    function like so
                </p>
                <div class="code-container">
                    <pre tabindex="0" class="copy-code main-code" id="">
function animate(){
    requestAnimationFrame(animate)
    c.fillStyle = 'black'
    c.fillRect(0, 0, canvas.width, canvas.height)
    pacman.velocity.x = 0
    pacman.velocity.y = 0
    if (keys.up.pressed && lastKey != 'up') {
        pacman.velocity.y -= playerSpeed
    }else if(keys.right.pressed && lastKey != 'right'){
        pacman.velocity.x += playerSpeed
    } else if (keys.left.pressed && lastKey != 'left'){
        pacman.velocity.x -= playerSpeed
    }else if (keys.down.pressed && lastKey != 'down'){
        pacman.velocity.y += playerSpeed
    } 
    boundaries.forEach(el => {
        el.draw()
    })
    pacman.update()
}
animate()

</pre>
                </div>
        </div>
        <div class="step-img">
            <img src="sections/02/02-02/images/03.png">
        </div>
    </div>
    
    
    <button tabindex="0" id="nxtLesson">next lesson</button>
</div>


